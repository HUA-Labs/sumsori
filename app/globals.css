@import "tailwindcss";

@source "../node_modules/@hua-labs/hua/dist";
@source "../node_modules/@hua-labs/ui/dist";
@source "../node_modules/@hua-labs/ui/src";

@import "@hua-labs/ui/styles/recommended-theme.css";

/* ── Sumsori Paper Theme — @theme으로 TW4 기본값 오버라이드 ── */
@theme {
  --color-primary: #71D9FF;
  --color-primary-foreground: #280000;
  --color-background: #FDF6EA;
  --color-foreground: #280000;
  --color-card: #FDF6EA;
  --color-card-foreground: #280000;
  --color-popover: #FDF6EA;
  --color-popover-foreground: #280000;
  --color-border: #F5D5C8;
  --color-input: #F5D5C8;
  --color-ring: #71D9FF;
  --color-muted: #FFF5F0;
  --color-muted-foreground: #5C3D2E;
  --color-accent: #FF9176;
  --color-accent-foreground: #C4532E;
  --color-secondary: #FFF0E8;
  --color-secondary-foreground: #280000;
}

:root {
  --progress-track: rgb(229, 231, 235);
  --progress-success: rgb(34, 197, 94);
  --progress-warning: rgb(234, 179, 8);
  --progress-error: rgb(239, 68, 68);
  --progress-info: rgb(99, 102, 241);
}

.dark {
  /* Paper Dark */
  --color-primary: #594A7C;
  --color-primary-foreground: #F1E9FF;
  --color-background: #232433;
  --color-foreground: #F1E9FF;
  --color-card: #2A2B3D;
  --color-card-foreground: #F1E9FF;
  --color-popover: #2A2B3D;
  --color-popover-foreground: #F1E9FF;
  --color-border: #3D3E52;
  --color-input: #3D3E52;
  --color-ring: #594A7C;
  --color-muted: #383952;
  --color-muted-foreground: #B8AFCC;
  --color-accent: #6630E6;
  --color-accent-foreground: #F1E9FF;
  --color-secondary: #383952;
  --color-secondary-foreground: #F1E9FF;

  --progress-track: rgb(55, 65, 81);
  --progress-success: rgb(74, 222, 128);
  --progress-warning: rgb(250, 204, 21);
  --progress-error: rgb(248, 113, 113);
  --progress-info: rgb(129, 140, 248);
}

html { scroll-behavior: smooth; }

body {
  background: var(--color-background);
  color: var(--color-foreground);
  font-family: "Pretendard Variable", "Pretendard", system-ui, -apple-system, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
  word-break: keep-all;
  overflow-wrap: break-word;
}

/* ── 고운바탕 — 감성 텍스트용 ── */
.font-batang {
  font-family: "Gowun Batang", serif;
}

/* ── Glassmorphism card ── */
.glass {
  background: color-mix(in srgb, var(--color-card) 50%, transparent);
  backdrop-filter: blur(20px) saturate(1.4);
  -webkit-backdrop-filter: blur(20px) saturate(1.4);
  border: 1px solid color-mix(in srgb, var(--color-border) 40%, transparent);
}

/* ── Recording pulse animation ── */
@keyframes recording-pulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.15); opacity: 0.7; }
}
.recording-pulse {
  animation: recording-pulse 1.5s ease-in-out infinite;
}

/* ── Waveform bar animation ── */
@keyframes waveform {
  0%, 100% { height: 8px; }
  50% { height: var(--wave-height, 32px); }
}
.waveform-bar {
  animation: waveform var(--wave-duration, 1s) ease-in-out infinite;
  animation-delay: var(--wave-delay, 0s);
}

/* ── Analyzing spinner ── */
@keyframes spin-slow {
  to { transform: rotate(360deg); }
}
.spin-slow {
  animation: spin-slow 3s linear infinite;
}

/* ── Fade in animation ── */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
.fade-in {
  animation: fade-in 0.5s ease-out forwards;
}

/* ── Gradient text ── */
.gradient-text {
  background: linear-gradient(135deg, var(--color-primary), var(--color-accent-foreground));
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ── Emotion tag chip ── */
.emotion-tag {
  display: inline-flex;
  align-items: center;
  padding: 4px 14px;
  border-radius: 9999px;
  font-size: 0.875rem;
  font-weight: 500;
  background: color-mix(in srgb, var(--color-accent) 15%, transparent);
  color: var(--color-accent-foreground);
  border: 1px solid color-mix(in srgb, var(--color-accent) 30%, transparent);
}

/* ── Shimmer loading ── */
@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}
.shimmer {
  background: linear-gradient(90deg, transparent 25%, color-mix(in srgb, var(--color-primary) 10%, transparent) 50%, transparent 75%);
  background-size: 200% 100%;
  animation: shimmer 2s ease-in-out infinite;
}

/* ── Loading overlay breathing animation ── */
@keyframes breathe {
  0%, 100% { transform: scale(1); opacity: 0.6; }
  50% { transform: scale(1.08); opacity: 1; }
}
.breathe {
  animation: breathe 3s ease-in-out infinite;
}

@keyframes float-up {
  0% { opacity: 0; transform: translateY(8px); }
  20% { opacity: 1; transform: translateY(0); }
  80% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-8px); }
}
.float-up {
  animation: float-up 0.6s ease-out forwards;
}

/* ── Safe area support ── */
@supports (padding: env(safe-area-inset-top)) {
  html {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}
