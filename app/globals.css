@import "tailwindcss";

@source "../node_modules/@hua-labs/hua/dist";
@source "../node_modules/@hua-labs/ui/dist";
@source "../node_modules/@hua-labs/ui/src";

@import "@hua-labs/ui/styles/recommended-theme.css";

/* ── Sumsori Paper Theme — @theme으로 TW4 기본값 오버라이드 ── */
@theme {
  --color-primary: #2EC4C4;
  --color-primary-foreground: #FFFFFF;
  --color-background: #FDF6EA;
  --color-foreground: #3D2B1F;
  --color-card: #FDF6EA;
  --color-card-foreground: #3D2B1F;
  --color-popover: #FDF6EA;
  --color-popover-foreground: #3D2B1F;
  --color-border: #E8D5C4;
  --color-input: #E8D5C4;
  --color-ring: #2EC4C4;
  --color-muted: #F5EDE0;
  --color-muted-foreground: #7A6352;
  --color-accent: #2EC4C4;
  --color-accent-foreground: #FFFFFF;
  --color-secondary: #F0E6D8;
  --color-secondary-foreground: #3D2B1F;
  --color-nav: #C49470;
  --color-nav-foreground: #FFFFFF;
}

:root {
  --progress-track: rgb(229, 231, 235);
  --progress-success: rgb(34, 197, 94);
  --progress-warning: rgb(234, 179, 8);
  --progress-error: rgb(239, 68, 68);
  --progress-info: rgb(99, 102, 241);
}

.dark {
  /* Paper Dark — 초콜릿 브라운 */
  --color-primary: #3DD8D8;
  --color-primary-foreground: #FFFFFF;
  --color-background: #2A1810;
  --color-foreground: #F5E6D8;
  --color-card: #3A2418;
  --color-card-foreground: #F5E6D8;
  --color-popover: #3A2418;
  --color-popover-foreground: #F5E6D8;
  --color-border: #5A4030;
  --color-input: #5A4030;
  --color-ring: #3DD8D8;
  --color-muted: #3A2418;
  --color-muted-foreground: #C4A88E;
  --color-accent: #3DD8D8;
  --color-accent-foreground: #2A1810;
  --color-secondary: #4A3020;
  --color-secondary-foreground: #F5E6D8;
  --color-nav: #8B6B50;
  --color-nav-foreground: #F5E6D8;

  --progress-track: rgb(55, 65, 81);
  --progress-success: rgb(74, 222, 128);
  --progress-warning: rgb(250, 204, 21);
  --progress-error: rgb(248, 113, 113);
  --progress-info: rgb(129, 140, 248);
}

/* ── Lora 폰트 (영문 세리프 - Paper Theme) ── */
@font-face {
  font-family: 'Lora';
  src: url('/fonts/Lora-Regular-Subset.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  src: url('/fonts/Lora-Bold-Subset.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

html {
  scroll-behavior: smooth;
  font-size: 18px;     /* PWA: 큼직한 기본 폰트 */
}

@media (min-width: 768px) {
  html { font-size: 16px; }   /* 태블릿/데스크탑은 살짝 줄이기 */
}

body {
  background: var(--color-background);
  color: var(--color-foreground);
  font-family: "Gowun Batang", "Lora", "Pretendard Variable", "Pretendard", serif;
  word-break: keep-all;
  overflow-wrap: break-word;
  -webkit-text-size-adjust: 100%;
}

/* ── 고운바탕 + Lora — 감성 텍스트용 ── */
.font-batang {
  font-family: "Gowun Batang", "Lora", serif;
}

/* ── Flat card ── */
.glass {
  background: var(--color-card);
  border: 1px solid var(--color-border);
}

.dark .glass {
  background: var(--color-card);
  border: 1px solid var(--color-border);
}

/* ── Recording pulse animation ── */
@keyframes recording-pulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.15); opacity: 0.7; }
}
.recording-pulse {
  animation: recording-pulse 1.5s ease-in-out infinite;
}

/* ── Waveform bar animation ── */
@keyframes waveform {
  0%, 100% { height: 8px; }
  50% { height: var(--wave-height, 32px); }
}
.waveform-bar {
  animation: waveform var(--wave-duration, 1s) ease-in-out infinite;
  animation-delay: var(--wave-delay, 0s);
}

/* ── Analyzing spinner ── */
@keyframes spin-slow {
  to { transform: rotate(360deg); }
}
.spin-slow {
  animation: spin-slow 3s linear infinite;
}

/* ── Fade in animation ── */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
.fade-in {
  animation: fade-in 0.5s ease-out forwards;
}

/* ── Gradient text ── */
.gradient-text {
  background: linear-gradient(135deg, var(--color-primary), var(--color-accent-foreground));
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ── Emotion tag chip ── */
.emotion-tag {
  display: inline-flex;
  align-items: center;
  padding: 6px 18px;
  border-radius: 9999px;
  font-size: 1.1rem;
  font-weight: 600;
  font-family: "Gowun Batang", "Lora", serif;
  background: color-mix(in srgb, var(--color-accent) 15%, var(--color-background));
  color: var(--color-foreground);
  border: 1px solid color-mix(in srgb, var(--color-accent) 30%, transparent);
}

/* ── Shimmer loading ── */
@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}
.shimmer {
  background: linear-gradient(90deg, transparent 25%, color-mix(in srgb, var(--color-foreground) 6%, transparent) 50%, transparent 75%);
  background-size: 200% 100%;
  animation: shimmer 2s ease-in-out infinite;
}

/* ── Loading overlay breathing animation ── */
@keyframes breathe {
  0%, 100% { transform: scale(1); opacity: 0.6; }
  50% { transform: scale(1.08); opacity: 1; }
}
.breathe {
  animation: breathe 3s ease-in-out infinite;
}

@keyframes float-up {
  0% { opacity: 0; transform: translateY(8px); }
  20% { opacity: 1; transform: translateY(0); }
  80% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-8px); }
}
.float-up {
  animation: float-up 0.6s ease-out forwards;
}

/* ── Safe area support ── */
@supports (padding: env(safe-area-inset-top)) {
  html {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}
